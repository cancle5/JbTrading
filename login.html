<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Primary Meta Tags -->
    <title>JB Values - Login</title>
    <meta name="title" content="JB Values - Login">
    <meta name="description" content="Login">

    <meta name="robots" content="noindex">
    <meta name="language" content="English">
    <meta name="revisit-after" content="1 days">
    <meta name="author" content="Jailbreak Values">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="icon" type="image/x-icon" href="/media/images/Logo.png">

    <link rel="stylesheet" href="/styles/main.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@100;200;300;400;500;600;700;800;900&family=Viga&display=swap" rel="stylesheet">

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-ZT7MTPJFZW"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-ZT7MTPJFZW');
    </script>

    <!-- NitroPay -->

    <script data-cfasync="false">window.nitroAds=window.nitroAds||{createAd:function(){return new Promise(e=>{window.nitroAds.queue.push(["createAd",arguments,e])})},addUserToken:function(){window.nitroAds.queue.push(["addUserToken",arguments])},queue:[]};</script>
    <script data-cfasync="false" async src="https://s.nitropay.com/ads-1148.js"></script>   

</head>
<body>
    <div class="background">

        <nav id="navbar"><script src="/scripts//sections/navbar.js"></script></nav>

        <div style="padding-top: 2rem;"></div>

        <div class="box-wide-bg-image">

            <div style="display: block;">

                <div class="text" style="font-size: 3rem; font-weight: 800;">Account</div>

                <div id="full-name" class="text" style="font-size: 1.5rem; font-weight: 400;">Name: </div>
                <div id="email" class="text" style="font-size: 1.5rem; font-weight: 400;">Email: </div>

                <img id="ProfilePicture" style="width: 10rem; display: block; margin-left: auto; margin-right: auto;" src="" alt="Profile Picture">

                <div style="padding-top: 1rem;"></div>

            </div>

            <div>

                <div class="text" style="font-size: 3rem; font-weight: 800;">Login</div>

                <div style="padding-top: 0.5rem;"></div>
    
                <div id="info-text" class="text" style="font-size: 1.5rem;">Login using one of the methods below.</div>
    
                <div>
    
                    <div style="padding-top: 2rem;"></div>
    
                    <button style="background-color: transparent;">
                        <div id="google-button"></div>
                    </button>
    
                    <div style="padding-top: 1rem;"></div>
    
                    <button onClick="signOut()">Sign Out</button>
    
                    <div style="padding-top: 1rem;"></div>
    
                    <a style="text-decoration: none;" href="/">
                        <button style="color: rgb(56, 56, 56); background-color: rgb(255, 255, 255);">Return</button>
                    </a>
    
                    <div style="padding-top: 1rem;"></div>

                </div>

            </div>

        </div>

    </div>

    <div class="footer">
    
        <a href="/">Home</a>

        <a href="/privacypolicy.html">Privacy Policy</a>

        <span data-ccpa-link="1"></span>

    </div>

    <script>

        var googleButton = document.getElementById('google-button');

        function handleCredentialResponse(response) {

            const responsePayload = decodeJwtResponse(response.credential);

            localStorage["AccountInformation"] = JSON.stringify(responsePayload);

            var ProfilePicture = document.getElementById('ProfilePicture');
            var Navbar_Login_Text = document.getElementById('navbar-textbutton');
            var Info_Text = document.getElementById('info-text');
            var Full_Name = document.getElementById('full-name');
            var Email = document.getElementById('email');

            ProfilePicture.src = responsePayload.picture;
            Navbar_Login_Text.innerText = responsePayload.given_name;
            Info_Text.innerText = ("You are logged in as " + responsePayload.email)
            Full_Name.innerHTML = responsePayload.name;
            Email.innerText = responsePayload.email;

        }

        window.onload = function () {
            
            google.accounts.id.initialize({
                client_id: "505525286631-ikfvhpi1up7abec6vbd97mb840qgc43e.apps.googleusercontent.com",
                callback: handleCredentialResponse,
                auto_select: true,
                auto: true
            });
            google.accounts.id.renderButton(
                document.getElementById("google-button"),
                { theme: "dark", size: "large", width: '190' } 
            );

            google.accounts.id.prompt(); 
        }

        function decodeJwtResponse(token) {
            var base64Url = token.split('.')[1];
            var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');
            var jsonPayload = decodeURIComponent(atob(base64).split('').map(function (c) {
                return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
            }).join(''));
            return JSON.parse(jsonPayload);
        }

        function signOut() {
            google.accounts.id.disableAutoSelect();

            localStorage["AccountInformation"] = null;

            location.reload();
        }

    </script>

    <script>
        window['nitroAds'].createAd('NitroPayAnchorAd', {
          "refreshLimit": 10,
          "refreshTime": 30,
          "format": "anchor",
          "anchor": "bottom",
          "anchorPersistClose": true,
          "mediaQuery": "(min-width: 0px)",
          "report": {
            "enabled": true,
            "wording": "Report Ad",
            "position": "top-right"
          },
          "anchorBgColor": "rgb(0 0 0 / 60%)"
        });
    </script>
    
</body>
</html>